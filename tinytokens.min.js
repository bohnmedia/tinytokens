function TinyTokens(){this.k={},this.l=function(n,e,t){var s,r=n,i="{{("+e+"(?:::(?:(?!}}).)*)?)}}";const a=2===t.length;a&&(i+="((?:(?!{{"+e+"(?:::(?:(?!}}).)*)?}}).)*?){{/"+e+"}}");const c=new RegExp(i,"s");for(;s=r.match(c);){let j=s[1].split("::"),n=a?t(j,s[2]):t(j);n=n.replace(/{/g,String.fromCharCode(0)+"{"),r=s.input.substr(0,s.index)+n+s.input.substr(s.index+s[0].length)}return r.replace(new RegExp(String.fromCharCode(0),"g"),"")},this.addToken=function(n,e){this.k[n]=e},this.replace=function(n){var e=n;for(var t in this.k)e=this.l(e,t,this.k[t]);return e}}